import{K as S,g}from"./E9AOERj2.js";function W(...s){return s.filter(Boolean).join(" ")}const y=typeof document<"u";function b(s){const r=S(s);function p(d){y&&r.set(d)}function i(d){y&&r.update(d)}return{subscribe:r.subscribe,set:p,update:i}}let h=0;function C(){const s=b([]),r=b([]);function p(e){s.update(t=>[e,...t])}function i(e){const{message:t,...n}=e,o=typeof e?.id=="number"||e.id&&e.id?.length>0?e.id:h++,f=e.dismissable===void 0?!0:e.dismissable,u=e.type===void 0?"default":e.type;return g(s).find(m=>m.id===o)?s.update(m=>m.map(a=>a.id===o?{...a,...e,id:o,title:t,dismissable:f,type:u,updated:!0}:{...a,updated:!1})):p({...n,id:o,title:t,dismissable:f,type:u}),o}function d(e){if(e===void 0){s.update(t=>t.map(n=>({...n,dismiss:!0})));return}return s.update(t=>t.map(n=>n.id===e?{...n,dismiss:!0}:n)),e}function w(e){if(e===void 0){s.set([]);return}return s.update(t=>t.filter(n=>n.id!==e)),e}function x(e,t){return i({...t,type:"default",message:e})}function I(e,t){return i({...t,type:"error",message:e})}function T(e,t){return i({...t,type:"success",message:e})}function E(e,t){return i({...t,type:"info",message:e})}function H(e,t){return i({...t,type:"warning",message:e})}function $(e,t){return i({...t,type:"loading",message:e})}function j(e,t){if(!t)return;let n;t.loading!==void 0&&(n=i({...t,promise:e,type:"loading",message:t.loading}));const o=e instanceof Promise?e:e();let f=n!==void 0;return o.then(u=>{if(u&&typeof u.ok=="boolean"&&!u.ok){f=!1;const l=typeof t.error=="function"?t.error(`HTTP error! status: ${u.status}`):t.error;i({id:n,type:"error",message:l})}else if(t.success!==void 0){f=!1;const l=typeof t.success=="function"?t.success(u):t.success;i({id:n,type:"success",message:l})}}).catch(u=>{if(t.error!==void 0){f=!1;const l=typeof t.error=="function"?t.error(u):t.error;i({id:n,type:"error",message:l})}}).finally(()=>{f&&(d(n),n=void 0),t.finally?.()}),n}function k(e,t){const n=t?.id||h++;return i({component:e,id:n,...t}),n}function v(e){r.update(t=>t.filter(n=>n.toastId!==e))}function B(e){if(g(r).find(n=>n.toastId===e.toastId)===void 0){r.update(n=>[e,...n]);return}r.update(n=>n.map(o=>o.toastId===e.toastId?e:o))}function P(){s.set([]),r.set([])}return{create:i,addToast:p,dismiss:d,remove:w,message:x,error:I,success:T,info:E,warning:H,loading:$,promise:j,custom:k,removeHeight:v,setHeight:B,reset:P,toasts:s,heights:r}}const c=C();function D(s,r){return c.create({message:s,...r})}const F=D,q=Object.assign(F,{success:c.success,info:c.info,warning:c.warning,error:c.error,custom:c.custom,message:c.message,promise:c.promise,dismiss:c.dismiss,loading:c.loading}),z=s=>({subscribe:s});export{q as a,W as c,c as t,z as u};
